<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—Ä—Ñ–∏–∫</title>
    <meta name="theme-color" content="#ffc0cb">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-192.png" type="image/png">
<link rel="apple-touch-icon" href="icons/icon-192.png">
    
    <!-- PWA-–º–µ—Ç–∞—Ç–µ–≥–∏ –¥–ª—è iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–ú–æ—Ä—Ñ–∏–∫">
</head>
<body>
    <div class="container">
        <svg id="character" viewBox="0 0 100 100" width="300" height="300">
            <ellipse id="head" cx="50" cy="50" rx="35" ry="40" fill="#FFCCAA" stroke="#E6B89C" stroke-width="2"/>
            
            <path d="M 30 25 Q 20 15 25 10 Q 30 5 35 15" fill="#FFCCAA" stroke="#E6B89C" stroke-width="1.5"/>
            <path d="M 70 25 Q 80 15 75 10 Q 70 5 65 15" fill="#FFCCAA" stroke="#E6B89C" stroke-width="1.5"/>
            
            <g id="eyes">
                <ellipse id="eye-left-bg" cx="40" cy="45" rx="6" ry="8" fill="#FFFFFF"/>
                <circle id="pupil-left" cx="40" cy="45" r="3" fill="#3366CC"/>
                <circle cx="41" cy="44" r="1" fill="#FFFFFF" opacity="0.8"/>
                
                <ellipse id="eye-right-bg" cx="60" cy="45" rx="6" ry="8" fill="#FFFFFF"/>
                <circle id="pupil-right" cx="60" cy="45" r="3" fill="#3366CC"/>
                <circle cx="61" cy="44" r="1" fill="#FFFFFF" opacity="0.8"/>
            </g>
            
            <path id="brow-left" d="M 33 35 Q 38 32 43 35" stroke="#8B7355" stroke-width="2" fill="none"/>
            <path id="brow-right" d="M 57 35 Q 62 32 67 35" stroke="#8B7355" stroke-width="2" fill="none"/>
            
            <path id="mouth" d="M 40 68 Q 50 73 60 68" stroke="#CC6666" stroke-width="2.5" fill="none" stroke-linecap="round"/>
            
            <ellipse cx="50" cy="55" rx="3" ry="2" fill="#FF9999"/>
            
            <ellipse cx="35" cy="55" rx="4" ry="3" fill="#FFB6C1" opacity="0.4"/>
            <ellipse cx="65" cy="55" rx="4" ry="3" fill="#FFB6C1" opacity="0.4"/>
        </svg>
        
        <div class="hint">–ö–æ—Å–Ω–∏—Å—å —ç–∫—Ä–∞–Ω–∞</div>
        
        <button id="sound-toggle" class="sound-btn" aria-label="–ó–≤—É–∫ –≤–∫–ª/–≤—ã–∫–ª">
            üîà
        </button>
    </div>

    <script src="app.js"></script>
    
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .catch(err => console.log('./ServiceWorker –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è: ', err));
            });
        }
    </script>
    <!-- –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA –¥–ª—è Android -->
<button id="installButton" class="install-btn" style="display: none;">
    üì≤ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
</button>

<script>
// –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA
let deferredPrompt;
const installButton = document.getElementById('installButton');

window.addEventListener('beforeinstallprompt', (e) => {
    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–∫–∞–∑
    e.preventDefault();
    deferredPrompt = e;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—à—É –∫–Ω–æ–ø–∫—É
    installButton.style.display = 'block';
    
    installButton.addEventListener('click', () => {
        // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
        installButton.style.display = 'none';
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
        deferredPrompt.prompt();
        
        // –ñ–¥–µ–º –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        deferredPrompt.userChoice.then((choiceResult) => {
            if (choiceResult.outcome === 'accepted') {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ');
            }
            deferredPrompt = null;
        });
    });
});

// –ï—Å–ª–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ - —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
window.addEventListener('appinstalled', () => {
    installButton.style.display = 'none';
    deferredPrompt = null;
});
</script>
</body>
</html>